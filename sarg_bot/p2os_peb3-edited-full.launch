<launch>
  <master auto="start"/>

  <!-- use sim time for /clock -->
  <param name="use_sim_time" value="true"/>

  <!-- set leg detector fixed frame -->
  <param name="/leg_detector/fixed_frame" value="base_laser_link"/>

  <!-- launch 2d navigation -->
  <include file="$(find sarg_2dnav)/sarg_2dnav.launch"/>

	<!-- launch simulation -->
  <include file="$(find sarg_bot)/p2os_peb3-edited.launch"/>

  <!-- relay base_scan to scan since they have the same msg -->
  <node pkg="topic_tools" type="relay" name="relay_scan" args="/base_scan /scan"/>

  <!-- launch joystick teleop -->
  <include file="$(find sarg_bot)/teleop_joy.launch"/>

  <!-- run rviz with preset config -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find sarg_2dnav)/config/rvizConfig.rviz"/>

  <!-- launch leg detector, for some reason this terminates when launched from this file so it will have to be started manually -->
  <!-- <include file="$(find leg_detector)/launch/leg_detector.launch"/> -->
</launch>
